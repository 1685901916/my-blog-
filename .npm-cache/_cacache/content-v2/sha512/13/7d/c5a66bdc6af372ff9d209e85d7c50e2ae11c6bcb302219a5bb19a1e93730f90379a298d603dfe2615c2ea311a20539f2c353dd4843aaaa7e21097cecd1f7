{"_id":"rehype-components","_rev":"3827728-65c0509104f99121521016f6","dist-tags":{"latest":"0.3.0"},"name":"rehype-components","time":{"created":"2024-02-05T03:05:53.095Z","modified":"2024-02-05T03:05:53.617Z","0.3.0":"2024-02-05T03:03:57.768Z"},"versions":{"0.3.0":{"name":"rehype-components","repository":{"type":"git","url":"git+https://github.com/marekweb/rehype-components.git"},"license":"MIT","version":"0.3.0","type":"module","keywords":["rehype","rehype-plugin"],"scripts":{"build":"tsc","check":"npm run lint && npm run format","fix":"npm run lint:fix && npm run format:fix","format":"prettier --check .","format:fix":"prettier --write .","test":"npm run build && node --test","lint":"eslint .","lint:fix":"eslint --fix ."},"exports":"./dist/components.js","types":"./dist/components.d.ts","devDependencies":{"@types/hast":"^3.0.4","@typescript-eslint/eslint-plugin":"^6.20.0","@typescript-eslint/parser":"^6.20.0","hastscript":"^9.0.0","prettier":"^3.2.5","rehype-format":"^5.0.0","rehype-parse":"^9.0.0","rehype-stringify":"^10.0.0","typescript":"^5.3.3","unified":"^11.0.4"},"dependencies":{"hast-util-is-element":"^3.0.0","unist-util-visit":"^5.0.0"},"prettier":{"proseWrap":"always","arrowParens":"avoid"},"_id":"rehype-components@0.3.0","gitHead":"22874e76adaea951a609d59bc3df0683b1c19b09","description":"`rehype-components` is a [**rehype**][rehype] plugin to render components, which are actually custom elements in HTML that get replaced by the output of a component rendering function.","bugs":{"url":"https://github.com/marekweb/rehype-components/issues"},"homepage":"https://github.com/marekweb/rehype-components#readme","_nodeVersion":"21.6.1","_npmVersion":"10.2.4","dist":{"integrity":"sha512-yl2bUkZi+sU0gxwVCun7IkjiDLPczSs1SKMKHmjlSLkk4mMryBd/aYba5J8suhJdquBEKSw6ZNxU3MvVQ9xqoQ==","shasum":"208caa71d6e6eb14cfc2000b05c1790fc4966305","tarball":"https://registry.npmmirror.com/rehype-components/-/rehype-components-0.3.0.tgz","fileCount":5,"unpackedSize":8090,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEQCICj08UaXF30QK0Ok3xCqZmZRC+t8GAKPuWBzXbLNg5DZAiAYFsw3sByX5QazAMBgnpY1z+BCzqLziQlk+We6N4oZSQ=="}],"size":3453},"_npmUser":{"name":"marekweb","email":"marekz@gmail.com"},"directories":{},"maintainers":[{"name":"marekweb","email":"marekz@gmail.com"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/rehype-components_0.3.0_1707102237591_0.18614072022442896"},"_hasShrinkwrap":false,"_cnpmcore_publish_time":"2024-02-05T03:03:57.768Z","publish_time":1707102237768,"_source_registry_name":"default"}},"bugs":{"url":"https://github.com/marekweb/rehype-components/issues"},"description":"`rehype-components` is a [**rehype**][rehype] plugin to render components, which are actually custom elements in HTML that get replaced by the output of a component rendering function.","homepage":"https://github.com/marekweb/rehype-components#readme","keywords":["rehype","rehype-plugin"],"license":"MIT","maintainers":[{"name":"marekweb","email":"marekz@gmail.com"}],"readme":"# rehype-components\n\n`rehype-components` is a [**rehype**][rehype] plugin to render components, which\nare actually custom elements in HTML that get replaced by the output of a\ncomponent rendering function.\n\nThis lets you process HTML that contains custom elements like `<info-box>` (for\nexample), and it allows you to provide a custom component function that renders\nthe contents of that element.\n\nIt's like the idea of React components except that it works on static HTML trees\nin [rehype][] and it operates on plain HAST nodes. You can use tools from the\nHAST ecosystem, like [hastscript][], to create and manipulate the content that\nyour components render.\n\nA component's rendering function receives the custom element's attributes and\nchildren, and it produces a new HTML tree as its output.\n\n## Installation\n\n```sh\nnpm install rehype-components\n```\n\n```js\nimport rehypeComponents from \"rehype-components\";\n```\n\n## Example\n\nAttach the plugin. In this example we're initializing a [unified][] processor\nand we attach the plugin into its pipeline. Typically you would have some\nplugins placed before this one, to ingest or pre-process the document, and some\nother plugins after it to post-process and output the result (for example by\nrendering the HTML to a string at the end).\n\n```js\nunified()\n  // ...\n  .use(rehypeComponents, {\n    // The `components` field is an object that maps the custom element names to their component rendering\n    // functions.\n    components: {\n      \"documentation-page\": DocumentationPage,\n      \"info-box\": InfoBox,\n      \"copyright-notice\": CopyrightNotice,\n    },\n  });\n// ...\n```\n\nHere's some sample input HTML content, with custom elements\n`documentation-page`, `info-box`, and `copyright-notice`:\n\n```html\n<documentation-page title=\"Welcome\">\n  <info-box title=\"Reminder\">Don't forget to run npm install</info-box>\n  <p>Lorem ipsum...</p>\n  <copyright-notice year=\"2020\"></copyright-notice>\n</documentation-page>\n```\n\nHere's the implementation of the above components, using [hastscript][] to\ncreate a new HAST tree.\n\nComponents receive properties (elements attributes) and children as function\narguments and they can wrap or modify the children tree.\n\n```js\nconst h = require(\"hastscript\");\n\nconst DocumentationPage = (properties, children) =>\n  h(\"article.documentation\", [h(\"h1\", properties.title), ...children]);\n\nconst CopyrightNotice = (properties, children) =>\n  h(\"footer.notice\", `© ${properties.year}`);\n\nconst InfoBox = (properties, children) =>\n  h(\n    \".infobox\",\n    h(\".infobox-title\", properties.title || \"Info\"),\n    h(\".infobox-body\", children),\n  );\n```\n\nOutput:\n\n```html\n<article class=\"documentation\">\n  <h1>Welcome</h1>\n  <div class=\"infobox\">\n    <div class=\"infobox-title\">Reminder</div>\n    <div class=\"infobox-body\">Don't forget to run npm install</div>\n  </div>\n  <p>Lorem ipsum...</p>\n  <footer class=\"notice\">© 2020</footer>\n</article>\n```\n\n[rehype]: https://github.com/rehypejs/rehype\n[hastscript]: https://github.com/syntax-tree/hastscript\n[unified]: https://github.com/unifiedjs/unified\n","repository":{"type":"git","url":"git+https://github.com/marekweb/rehype-components.git"},"_source_registry_name":"default"}