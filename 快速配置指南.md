# ğŸš€ Git å’ŒæœåŠ¡å™¨é…ç½®å¿«é€ŸæŒ‡å—

## âœ… å½“å‰é…ç½®çŠ¶æ€

### Git é…ç½®
- **ç”¨æˆ·å**: ayano
- **é‚®ç®±**: 1685901916@qq.com
- **è¿œç¨‹ä»“åº“**: git@github.com:1685901916/my-blog-.git (SSH)
- **åˆ†æ”¯**: main

### å…¬å‘Šå†…å®¹
å·²æ›´æ–°ä¸ºï¼š**"æœ¬ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œå¤§éƒ¨åˆ†æ–‡ä»¶å¤šæ˜¯aiç”Ÿæˆä¸»è¦æ˜¯ä¸ºäº†æµ‹è¯•ï¼Œä¸ä»£è¡¨æœ€ç»ˆæˆæœã€‚"**

é…ç½®æ–‡ä»¶ä½ç½®ï¼š`src/config.ts` (ç¬¬ 372 è¡Œ)

---

## ğŸ¯ å¿«é€Ÿå¼€å§‹ï¼ˆ3 æ­¥å®Œæˆé…ç½®ï¼‰

### æ­¥éª¤ 1ï¼šè¿è¡Œé…ç½®è„šæœ¬
```bash
# åŒå‡»è¿è¡Œ
Gité…ç½®å’Œæµ‹è¯•.bat
```

è¿™ä¸ªè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… é…ç½® Git ç”¨æˆ·ä¿¡æ¯
- âœ… æ£€æŸ¥/ç”Ÿæˆ SSH å¯†é’¥
- âœ… æµ‹è¯• GitHub è¿æ¥
- âœ… éªŒè¯è¿œç¨‹ä»“åº“é…ç½®

### æ­¥éª¤ 2ï¼šæ·»åŠ  SSH å…¬é’¥åˆ° GitHub

1. è¿è¡Œè„šæœ¬åï¼Œå¤åˆ¶æ˜¾ç¤ºçš„å…¬é’¥å†…å®¹
2. è®¿é—®ï¼šhttps://github.com/settings/keys
3. ç‚¹å‡» "New SSH key"
4. ç²˜è´´å…¬é’¥ï¼Œç‚¹å‡» "Add SSH key"

### æ­¥éª¤ 3ï¼šæµ‹è¯•æ¨é€

```bash
# æ–¹æ³• 1ï¼šä½¿ç”¨ä¸€é”®å‘å¸ƒè„šæœ¬ï¼ˆæ¨èï¼‰
ä¸€é”®å‘å¸ƒ.bat

# æ–¹æ³• 2ï¼šä½¿ç”¨è¯¦ç»†æ¨é€è„šæœ¬
æ¨é€åˆ°GitHub.bat
```

---

## ğŸ“‹ å¯ç”¨çš„æ‰¹å¤„ç†è„šæœ¬

| è„šæœ¬åç§° | åŠŸèƒ½è¯´æ˜ |
|---------|---------|
| `Gité…ç½®å’Œæµ‹è¯•.bat` | ğŸ”§ é…ç½® Git å’Œæµ‹è¯• SSH è¿æ¥ |
| `ä¸€é”®å‘å¸ƒ.bat` | ğŸš€ å¿«é€Ÿæäº¤å¹¶æ¨é€åˆ° GitHub |
| `æ¨é€åˆ°GitHub.bat` | ğŸ“¤ è¯¦ç»†çš„æ¨é€æµç¨‹ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰ |
| `å¯åŠ¨å¼€å‘æœåŠ¡å™¨.bat` | ğŸ’» å¯åŠ¨æœ¬åœ°å¼€å‘æœåŠ¡å™¨ |
| `æ„å»ºå¹¶æ‰“åŒ….bat` | ğŸ“¦ æ„å»ºç”Ÿäº§ç‰ˆæœ¬ |
| `æ£€æŸ¥é…ç½®çŠ¶æ€.bat` | ğŸ” æ£€æŸ¥å½“å‰é…ç½®çŠ¶æ€ |

---

## ğŸ” SSH å¯†é’¥é…ç½®è¯¦è§£

### ç”Ÿæˆ SSH å¯†é’¥ï¼ˆå¦‚æœæ²¡æœ‰ï¼‰

```bash
# Ed25519 å¯†é’¥ï¼ˆæ¨èï¼‰
ssh-keygen -t ed25519 -C "1685901916@qq.com"

# RSA å¯†é’¥ï¼ˆå¤‡é€‰ï¼‰
ssh-keygen -t rsa -b 4096 -C "1685901916@qq.com"
```

### æŸ¥çœ‹å…¬é’¥

```bash
# Windows PowerShell
cat ~\.ssh\id_ed25519.pub

# Git Bash
cat ~/.ssh/id_ed25519.pub
```

### æµ‹è¯• SSH è¿æ¥

```bash
ssh -T git@github.com
```

æˆåŠŸè¾“å‡ºï¼š
```
Hi 1685901916! You've successfully authenticated, but GitHub does not provide shell access.
```

### é…ç½® SSH Agentï¼ˆWindowsï¼‰

```powershell
# ä»¥ç®¡ç†å‘˜èº«ä»½è¿è¡Œ PowerShell
Get-Service ssh-agent | Set-Service -StartupType Automatic
Start-Service ssh-agent
ssh-add ~\.ssh\id_ed25519
```

---

## ğŸ–¥ï¸ æœåŠ¡å™¨éƒ¨ç½²é…ç½®

### æœåŠ¡å™¨ä¿¡æ¯
- **IP**: 156.225.28.187
- **ç”¨æˆ·**: root
- **å¯†ç **: zH(42@SKM#
- **åŸŸå**: ayano29.cn

### æœåŠ¡å™¨è·¯å¾„
- **æºç ç›®å½•**: `/www/blog-source`
- **éƒ¨ç½²ç›®å½•**: `/www/wwwroot/ayano29.cn`
- **æ›´æ–°è„šæœ¬**: `/www/blog-source/update.sh`

### SSH è¿æ¥æœåŠ¡å™¨

```bash
ssh root@156.225.28.187
# è¾“å…¥å¯†ç ï¼šzH(42@SKM#
```

### æœåŠ¡å™¨æ›´æ–°æµç¨‹

#### æ–¹æ³• 1ï¼šä½¿ç”¨è‡ªåŠ¨æ›´æ–°è„šæœ¬ï¼ˆæ¨èï¼‰
```bash
ssh root@156.225.28.187
/www/blog-source/update.sh
```

#### æ–¹æ³• 2ï¼šæ‰‹åŠ¨æ›´æ–°
```bash
# 1. SSH è¿æ¥
ssh root@156.225.28.187

# 2. è¿›å…¥é¡¹ç›®ç›®å½•
cd /www/blog-source

# 3. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 4. å®‰è£…ä¾èµ–ï¼ˆå¦‚æœ‰æ›´æ–°ï¼‰
npm install

# 5. æ„å»ºé¡¹ç›®
npm run build

# 6. éƒ¨ç½²åˆ°ç½‘ç«™ç›®å½•
rm -rf /www/wwwroot/ayano29.cn/*
cp -r dist/* /www/wwwroot/ayano29.cn/

# 7. è®¾ç½®æƒé™
chmod -R 755 /www/wwwroot/ayano29.cn
chown -R www:www /www/wwwroot/ayano29.cn
```

### å®å¡”é¢æ¿
- **åœ°å€**: https://156.225.28.187:8888
- å¯ä»¥é€šè¿‡é¢æ¿çš„ç»ˆç«¯åŠŸèƒ½è¿è¡Œæ›´æ–°è„šæœ¬

---

## ğŸ”„ å®Œæ•´å·¥ä½œæµç¨‹

### æœ¬åœ°å¼€å‘ â†’ æ¨é€ â†’ æœåŠ¡å™¨éƒ¨ç½²

```bash
# 1. æœ¬åœ°ä¿®æ”¹æ–‡ä»¶ï¼ˆå¦‚æ·»åŠ æ–‡ç« ï¼‰
# ç¼–è¾‘ src/content/posts/your-article.md

# 2. æœ¬åœ°æµ‹è¯•
å¯åŠ¨å¼€å‘æœåŠ¡å™¨.bat
# è®¿é—® http://localhost:4321

# 3. æäº¤å¹¶æ¨é€åˆ° GitHub
ä¸€é”®å‘å¸ƒ.bat
# è¾“å…¥æäº¤ä¿¡æ¯ï¼šæ–°å¢æ–‡ç« -æ ‡é¢˜

# 4. æœåŠ¡å™¨æ›´æ–°
ssh root@156.225.28.187
/www/blog-source/update.sh

# 5. è®¿é—®ç½‘ç«™éªŒè¯
# https://ayano29.cn
```

---

## âš ï¸ å¸¸è§é—®é¢˜è§£å†³

### é—®é¢˜ 1ï¼šSSH è¿æ¥ GitHub å¤±è´¥

**é”™è¯¯**: `Permission denied (publickey)`

**è§£å†³æ–¹æ³•**:
1. æ£€æŸ¥å…¬é’¥æ˜¯å¦å·²æ·»åŠ åˆ° GitHub
2. è¿è¡Œ `Gité…ç½®å’Œæµ‹è¯•.bat` é‡æ–°é…ç½®
3. ç¡®ä¿ SSH Agent æ­£åœ¨è¿è¡Œ

### é—®é¢˜ 2ï¼šæ¨é€å¤±è´¥

**é”™è¯¯**: `fatal: Authentication failed`

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥è¿œç¨‹åœ°å€
git remote -v

# å¦‚æœæ˜¯ HTTPSï¼Œåˆ‡æ¢åˆ° SSH
git remote set-url origin git@github.com:1685901916/my-blog-.git

# é‡æ–°æ¨é€
git push origin main
```

### é—®é¢˜ 3ï¼šæœåŠ¡å™¨æ‹‰å–å¤±è´¥

**é”™è¯¯**: æœåŠ¡å™¨ `git pull` å¤±è´¥

**è§£å†³æ–¹æ³•**:
```bash
# åœ¨æœåŠ¡å™¨ä¸Šç”Ÿæˆ SSH å¯†é’¥
ssh-keygen -t ed25519 -C "1685901916@qq.com"

# æŸ¥çœ‹å…¬é’¥
cat ~/.ssh/id_ed25519.pub

# å°†å…¬é’¥æ·»åŠ åˆ° GitHubï¼ˆä½œä¸ºéƒ¨ç½²å¯†é’¥ï¼‰
# https://github.com/1685901916/my-blog-/settings/keys
```

### é—®é¢˜ 4ï¼šæ„å»ºå¤±è´¥

**é”™è¯¯**: `npm ERR!` æˆ–æ„å»ºé”™è¯¯

**è§£å†³æ–¹æ³•**:
```bash
# æ¸…ç†å¹¶é‡æ–°å®‰è£…
rm -rf node_modules package-lock.json
npm install

# æ¸…ç†ç¼“å­˜
rm -rf .astro
npm run build
```

### é—®é¢˜ 5ï¼šç½‘ç«™æ— æ³•è®¿é—®

**è§£å†³æ–¹æ³•**:
```bash
# æ£€æŸ¥ Nginx çŠ¶æ€
systemctl status nginx

# é‡å¯ Nginx
systemctl restart nginx

# æ£€æŸ¥æ–‡ä»¶æƒé™
chmod -R 755 /www/wwwroot/ayano29.cn
chown -R www:www /www/wwwroot/ayano29.cn
```

---

## ğŸ“ Git å¸¸ç”¨å‘½ä»¤

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹è¿œç¨‹ä»“åº“
git remote -v

# æ·»åŠ æ‰€æœ‰æ›´æ”¹
git add .

# æäº¤æ›´æ”¹
git commit -m "æäº¤ä¿¡æ¯"

# æ¨é€åˆ° GitHub
git push origin main

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# æŸ¥çœ‹æäº¤å†å²
git log --oneline -10

# æŸ¥çœ‹å½“å‰åˆ†æ”¯
git branch

# åˆ‡æ¢åˆ†æ”¯
git checkout main
```

---

## ğŸ¨ ä¿®æ”¹å…¬å‘Šå†…å®¹

å…¬å‘Šå†…å®¹ä½äº `src/config.ts` æ–‡ä»¶ï¼š

```typescript
export const announcementConfig: AnnouncementConfig = {
	title: "å…¬å‘Š", // å…¬å‘Šæ ‡é¢˜
	content: "æœ¬ç«™æ­£åœ¨å»ºè®¾ä¸­ï¼Œå¤§éƒ¨åˆ†æ–‡ä»¶å¤šæ˜¯aiç”Ÿæˆä¸»è¦æ˜¯ä¸ºäº†æµ‹è¯•ï¼Œä¸ä»£è¡¨æœ€ç»ˆæˆæœã€‚", // å…¬å‘Šå†…å®¹
	closable: true, // å…è®¸ç”¨æˆ·å…³é—­å…¬å‘Š
	link: {
		enable: true, // å¯ç”¨é“¾æ¥
		text: "äº†è§£æ›´å¤š", // é“¾æ¥æ–‡æœ¬
		url: "/about/", // é“¾æ¥ URL
		external: false, // å†…éƒ¨é“¾æ¥
	},
};
```

ä¿®æ”¹åéœ€è¦ï¼š
1. ä¿å­˜æ–‡ä»¶
2. è¿è¡Œ `ä¸€é”®å‘å¸ƒ.bat` æ¨é€åˆ° GitHub
3. SSH åˆ°æœåŠ¡å™¨è¿è¡Œ `/www/blog-source/update.sh`

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### ç›¸å…³æ–‡æ¡£
- [Git å®˜æ–¹æ–‡æ¡£](https://git-scm.com/doc)
- [GitHub SSH æ–‡æ¡£](https://docs.github.com/en/authentication/connecting-to-github-with-ssh)
- [Astro æ–‡æ¡£](https://docs.astro.build)

### é¡¹ç›®æ–‡æ¡£
- `README.md` - é¡¹ç›®è¯´æ˜
- `GitHubéƒ¨ç½²å®Œæ•´æµç¨‹.md` - è¯¦ç»†éƒ¨ç½²æµç¨‹
- `éƒ¨ç½²åˆ°æœåŠ¡å™¨å®Œæ•´æ•™ç¨‹.md` - æœåŠ¡å™¨éƒ¨ç½²æ•™ç¨‹
- `æœåŠ¡å™¨Gitéƒ¨ç½²è¯¦ç»†æ­¥éª¤.md` - Git éƒ¨ç½²æ­¥éª¤

---

## âœ… é…ç½®æ£€æŸ¥æ¸…å•

ä½¿ç”¨å‰è¯·ç¡®è®¤ï¼š

- [ ] Git ç”¨æˆ·ä¿¡æ¯å·²é…ç½®ï¼ˆayano / 1685901916@qq.comï¼‰
- [ ] SSH å¯†é’¥å·²ç”Ÿæˆ
- [ ] SSH å…¬é’¥å·²æ·»åŠ åˆ° GitHub
- [ ] SSH è¿æ¥æµ‹è¯•æˆåŠŸ
- [ ] Git è¿œç¨‹ä»“åº“å·²è®¾ç½®ä¸º SSH
- [ ] æœ¬åœ°å¼€å‘æœåŠ¡å™¨å¯ä»¥è¿è¡Œ
- [ ] æœåŠ¡å™¨ SSH è¿æ¥æ­£å¸¸
- [ ] æœåŠ¡å™¨å¯ä»¥æ‹‰å–ä»£ç 
- [ ] ç½‘ç«™å¯ä»¥æ­£å¸¸è®¿é—®

---

**æœ€åæ›´æ–°**: 2025-11-11  
**ç‰ˆæœ¬**: 1.0

å¦‚æœ‰é—®é¢˜ï¼Œè¯·è¿è¡Œ `Gité…ç½®å’Œæµ‹è¯•.bat` è¿›è¡Œè¯Šæ–­ã€‚
